<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AN Atlas</title>
    <link rel="icon" type="image/svg+xml" href="/images/palace.svg" />
    <!-- Resource hints for external APIs -->
    <link rel="preconnect" href="https://api.baserow.io">
    <link rel="dns-prefetch" href="https://api.baserow.io">
    <!-- Resource hints for map tile servers -->
    <link rel="dns-prefetch" href="https://basemaps.cartocdn.com">
    <link rel="dns-prefetch" href="https://tile.openstreetmap.org">
    <link rel="preconnect" href="https://basemaps.cartocdn.com" crossorigin>
    <link rel="preconnect" href="https://tile.openstreetmap.org" crossorigin>
    <!-- Fonts: Neue Machina for headings, Inter for body -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
    <!-- Neue Machina - Self-hosted font files -->
    <link rel="preload" href="/fonts/NeueMachina-Regular.otf" as="font" type="font/otf" crossorigin>
    <link rel="preload" href="/fonts/NeueMachina-Ultrabold.otf" as="font" type="font/otf" crossorigin>
    <style>
      @font-face {
        font-family: 'Neue Machina';
        src: url('/fonts/NeueMachina-Light.otf') format('opentype');
        font-weight: 300;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'Neue Machina';
        src: url('/fonts/NeueMachina-Regular.otf') format('opentype');
        font-weight: 400;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'Neue Machina';
        src: url('/fonts/NeueMachina-Regular.otf') format('opentype');
        font-weight: 600;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'Neue Machina';
        src: url('/fonts/NeueMachina-Ultrabold.otf') format('opentype');
        font-weight: 700;
        font-style: normal;
        font-display: swap;
      }
      @font-face {
        font-family: 'Neue Machina';
        src: url('/fonts/NeueMachina-Ultrabold.otf') format('opentype');
        font-weight: 800;
        font-style: normal;
        font-display: swap;
      }
    </style>
    <style>
      /* Custom scrollbar - minimal clean style */
      ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      ::-webkit-scrollbar-track {
        background: transparent; 
      }
      ::-webkit-scrollbar-thumb {
        background: #2a2a2a; 
        border-radius: 4px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #3a3a3a; 
      }
      /* Light mode scrollbar */
      @media (prefers-color-scheme: light) {
        ::-webkit-scrollbar-thumb {
          background: #d4d4d4; 
        }
        ::-webkit-scrollbar-thumb:hover {
          background: #a3a3a3; 
        }
      }
      .leaflet-container {
        background: #020B21 !important;
      }
      /* Ensure Leaflet tiles load properly */
      .leaflet-tile-container img {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
      }
      .leaflet-tile-pane {
        z-index: 2;
        background-color: transparent !important;
      }
      /* Leaflet tile pane and all its layers are transparent - no background colors */
      .leaflet-tile-pane *,
      .leaflet-tile-container,
      .leaflet-tile {
        background-color: transparent !important;
      }
      /* Target the actual tile image placeholders */
      .leaflet-tile-pane img {
        background-color: transparent !important;
      }
      /* Target empty/loading tiles */
      .leaflet-tile-container img[src=""],
      .leaflet-tile-container img:not([src]),
      img.leaflet-tile[src=""],
      img.leaflet-tile:not([src]) {
        background-color: transparent !important;
        background-image: none !important;
      }
      /* Override any grey backgrounds Leaflet might set */
      .leaflet-tile-loaded,
      .leaflet-tile-loading {
        background-color: transparent !important;
      }
      /* Apply Inter as default body font */
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      }
      /* Neue Machina font utility class and CSS variable */
      :root {
        --font-neue-machina: 'Neue Machina', sans-serif;
      }
      .font-neue-machina {
        font-family: var(--font-neue-machina);
      }
      /* Also support Tailwind arbitrary values */
      [class*="font-['Neue"] {
        font-family: 'Neue Machina', sans-serif !important;
      }
      /* Screen reader only - visually hidden but accessible to assistive technology */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }
      /* Custom radar pulse animation */
      @keyframes pulse-radar {
        0% { transform: scale(0.1); opacity: 0.8; }
        100% { transform: scale(3); opacity: 0; }
      }
      .animate-pulse-radar {
        animation: pulse-radar 3s cubic-bezier(0, 0, 0.2, 1) infinite;
      }
      /* Ensure map markers have proper touch target sizes for accessibility */
      .leaflet-marker-icon.custom-marker {
        min-width: 48px !important;
        min-height: 48px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        cursor: pointer;
        /* Ensure proper spacing between markers (8px minimum) */
        margin: 4px;
      }
      /* Ensure the inner content is properly centered */
      .leaflet-marker-icon.custom-marker > div {
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
      }
    </style>
</head>
  <body class="bg-black text-[#fafafa] antialiased overflow-hidden">
    <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>
</html>